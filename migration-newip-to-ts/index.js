(()=>{"use strict";var e={659:(e,t,s)=>{s.r(t)},283:(e,t,s)=>{s.r(t)},485:(e,t,s)=>{s.r(t)},717:function(e,t,s){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(s(842)),n=s(527);t.default=class{constructor(){this.controller=new r.default,this.view=new n.AppView}start(){const e=document.querySelector(".sources");e&&(e.addEventListener("click",(e=>this.controller.getNews(e,(e=>this.view.drawNews(e))))),this.controller.getSources((e=>this.view.drawSources(e))))}}},853:function(e,t,s){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AppLoader=void 0;const r=o(s(24));class n extends r.default{constructor(){super("https://rss-news-api.onrender.com/",{apiKey:"bb7027a1d0dc48e488ca04d0ca500a70"})}}t.AppLoader=n,t.default=n},842:function(e,t,s){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(s(853));class n extends r.default{getSources(e){super.getResp({endpoint:"sources"},e)}getNews(e,t){let s=e.target;const o=e.currentTarget;for(;s!==o;){if(s.classList.contains("source__item")){const e=s.getAttribute("data-source-id");return void(o.getAttribute("data-source")!==e&&(o.setAttribute("data-source",e),super.getResp({endpoint:"everything",options:{sources:e}},t)))}s=s.parentNode}}}t.default=n},24:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t){this.baseLink=e,this.options=t}getResp({endpoint:e,options:t={}},s=(()=>{console.error("No callback for GET response")})){this.load("GET",e,s,t)}errorHandler(e){if(!e.ok)throw 401!==e.status&&404!==e.status||console.log(`Sorry, but there is ${e.status} error: ${e.statusText}`),Error(e.statusText);return e}makeUrl(e,t){const s=Object.assign(Object.assign({},this.options),e);let o=`${this.baseLink}${t}?`;return Object.keys(s).forEach((e=>{o+=`${e}=${s[e]}&`})),o.slice(0,-1)}load(e,t,s,o={}){fetch(this.makeUrl(o,t),{method:e}).then(this.errorHandler).then((e=>e.json())).then((e=>s(e))).catch((e=>console.error(e)))}}},527:function(e,t,s){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AppView=void 0;const r=o(s(798)),n=o(s(53));class c{constructor(){this.news=new r.default,this.sources=new n.default}drawNews(e){const t=e.articles?e.articles:[];this.news.draw(t)}drawSources(e){const t=e.sources?e.sources:[];this.sources.draw(t)}}t.AppView=c,t.default=c},798:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),s(659),t.default=class{draw(e){const t=e.length>=10?e.slice(0,10):e,s=document.createDocumentFragment(),o=document.querySelector("#newsItemTemp");o&&t.forEach(((e,t)=>{const r=o.content.cloneNode(!0);t%2&&this.setClass(r,".news__item","alt"),this.setStyle(r,".news__meta-photo","backgroundImage",`url(${e.urlToImage||"https://fakeimg.pl/600x400?text=No+photo"})`),this.setTextContent(r,".news__meta-author",e.author||e.source.name),this.setTextContent(r,".news__meta-date",e.publishedAt.slice(0,10).split("-").reverse().join("-")),this.setTextContent(r,".news__description-title",e.title),this.setTextContent(r,".news__description-source",e.source.name),this.setTextContent(r,".news__description-content",e.description),this.setAttribute(r,".news__read-more a","href",e.url),s.append(r)}));const r=document.querySelector(".news");r&&(r.innerHTML="",r.appendChild(s))}setClass(e,t,s){const o=e.querySelector(t);o&&o.classList.add(s)}setTextContent(e,t,s){const o=e.querySelector(t);o&&(o.textContent=s)}setAttribute(e,t,s,o){const r=e.querySelector(t);r&&r.setAttribute(s,o)}setStyle(e,t,s,o){const r=e.querySelector(t);r&&(r.style.backgroundImage=o)}}},53:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),s(283),t.default=class{draw(e){const t=document.createDocumentFragment(),s=document.querySelector("#sourceItemTemp");s&&e.forEach((e=>{const o=s.content.cloneNode(!0);if(o){const s=o.querySelector(".source__item-name");s&&(s.textContent=e.name);const r=o.querySelector(".source__item");r&&r.setAttribute("data-source-id",e.id),t.append(o)}}));const o=document.querySelector(".sources");o&&o.append(t)}}},607:function(e,t,s){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(s(717));s(485),(new r.default).start()}},t={};function s(o){var r=t[o];if(void 0!==r)return r.exports;var n=t[o]={exports:{}};return e[o].call(n.exports,n,n.exports,s),n.exports}s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s(607)})();